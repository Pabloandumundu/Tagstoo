<!DOCTYPE html>

<!--
* Copyright 2017, Pablo Andueza pabloandumundu@gmail.com

* This file is part of Tagstoo.

* Tagstoo is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.

* Tagstoo is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.

* You should have received a copy of the GNU General Public License
* along with Tagstoo.  If not, see <http://www.gnu.org/licenses/>.
-->


<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>TAGSTOO</title>

	<script src="js/jquery-latest.min.js"></script>
	<script src="js/jquery-ui.min.js"></script>
	<script src="js/alertify.js"></script>
	<script src="js/main-menu.js"></script>

	<link href="css/alertify.core.css" rel="stylesheet" type="text/css">
	<link href="css/alertify.default.css" rel="stylesheet" type="text/css">
	<link href="css/abigimage.jquery.css" rel="stylesheet" type="text/css">
	<link href="css/estilos.css" rel="stylesheet" type="text/css">

</head>
<body id="mainbody">

	<script>

		//maximizar la ventana al inicio
		var ngui = require('nw.gui');
		var nwin = ngui.Window.get();
		nwin.setResizable(true);
		nwin.maximize();

	</script>

	<header>

		<div id="toppopupbackground"></div>

		<div id="topbloque1">

			<div id="logotipo"><img src="img/tagstoo30b.png" alt=""></div>

			<div class="animatedtabs">

				<ul class="tabs">

					<li class="tab-link current" data-tab="tab-1" id="exploretab">
						<span class="lang_en">EXPLORE</span>
						<span class="lang_es">EXPLORAR</span>
						<span class="lang_fr">EXPLORE</span>
					</li>
					<li class="tab-link" data-tab="tab-2">
						<span class="lang_en">SEARCH</span>
						<span class="lang_es">BUSCAR</span>
						<span class="lang_fr">CHERCHER</span>
					</li>

				</ul>

			</div>

			<div>

				<a href="#" class="action-button shadow animate blue" id="paste">
					<span class="lang_en">PASTE</span>
					<span class="lang_es">PEGAR</span>
					<span class="lang_fr">COLLER</span>
				</a>

			</div>

			<div class="onoffswitch" id="pasteaction">

				<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" >
				<label class="onoffswitch-label" for="myonoffswitch" >
						<span class="onoffswitch-inner"></span>
						<span class="onoffswitch-switch"></span>
				</label>

			</div>

			<div id="delete">

				<a href="#" class="action-button shadow animate red" id="deletebutton">
					<span class="lang_en">DELETE</span>
					<span class="lang_es">BORRAR</span>
					<span class="lang_fr">EFFACER</span>
				</a>


			</div>

			<!-- para desarrollo -->
			<!-- <button id="panelon" style="display: inline-block; position: fixed; left:0; top:0">Panel</button> -->
			<!--  -->

			<div id="fastaccess-wrapp">

				<div>

					<span class="toptext">
						<span class="lang_en">Fast access to folders: </span>
						<span class="lang_es">Acceso rápido a carpetas: </span>
						<span class="lang_fr">Accès rapide aux dossiers: </span>
					</span><br>
					<select name="" id="favfolders"></select>

				</div>

				<div>

					<a class="small button orange" id="removefolderselect">
						<span class="lang_en">Remove selected</span>
						<span class="lang_es">Borrar selección</span>
						<span class="lang_fr">Effacer sélec.</span>
					</a><br>
					<a class="small button green" id="gotofolderselect">
						<span class="lang_en">Go to selected</span>
						<span class="lang_es">Ir a selección</span>
						<span class="lang_fr">Aller à sélec.</span>
					</a>
				</div>

			</div>

			<div id="viewmode-wrap">

				<span class="toptext">
					<span class="lang_en">Viewmode: </span>
					<span class="lang_es">Vista modo: </span>
					<!-- <span class="lang_fr">Mode d'affich.: </span> -->
					<span class="lang_fr">Vue mode: </span>
					<span id="viewmodenumber">1 ...</span>
				</span><br>
				<input id="viewmode" type="range" min="1" max="9" step="1" value="1">

			</div>

			<div id="order-wrap">

				<span class="toptext">
					<span class="lang_en">Order by:</span>
					<span class="lang_es">Ordernar por:</span>
					<span class="lang_fr">Trier par:</span>
				</span><br>
				<span class="lang_en">
					<select class="order">					
						<option value="nameasc" selected>Name A-Z</option>
						<option value="namedesc">Name Z-A</option>
						<option value="extasc">Extension A-Z</option>
						<option value="extdesc">Extension Z-A</option>
						<option value="sizeasc">Size Small-Big</option>
						<option value="sizedesc">Size Big-Small</option>
						<option value="lastdesc">LastMod New-Old</option>
						<option value="lastasc">LastMod Old-New</option>
						<option value="aleator">Aleatory!</option>
					</select>
				</span>
				<span class="lang_es">
					<select class="order">					
						<option value="nameasc" selected>Nombre A-Z</option>
						<option value="namedesc">Nombre Z-A</option>
						<option value="extasc">Extensión A-Z</option>
						<option value="extdesc">Extensión Z-A</option>
						<option value="sizeasc">Pequeño-Grande</option>
						<option value="sizedesc">Grande-Pequeño</option>
						<option value="lastdesc">Modificado N-A</option>
						<option value="lastasc">Modificado A-N</option>
						<option value="aleator">¡Aleatorio!</option>
					</select>
				</span>
				<span class="lang_fr">
					<select class="order">					
						<option value="nameasc" selected>Nom A-Z</option>
						<option value="namedesc">Nom Z-A</option>
						<option value="extasc">Extension A-Z</option>
						<option value="extdesc">Extension Z-A</option>
						<option value="sizeasc">Petit-Large</option>
						<option value="sizedesc">Large-Petit</option>
						<option value="lastdesc">Modifié N-V</option>
						<option value="lastasc">Modifié V-N</option>
						<option value="aleator">Aléatoire!</option>
					</select>
				</span>

			</div>

			<div id="undo-wrap">

				<div>
					<span class="lang_en">
						<a href="#" class="action-button shadow animate yellow tooltip-right undo" data-tooltip="UNDO (not action to undo)">UNDO</a>
					</span>
					<span class="lang_es">
						<a href="#" class="action-button shadow animate yellow tooltip-right undo" data-tooltip="DESHACER (no hay acción para deshacer)">DES.</a>
					</span>
					<span class="lang_fr">
						<a href="#" class="action-button shadow animate yellow tooltip-right undo" data-tooltip="DÉFAIRE (aucune action à défaire)">DÉF.</a>
					</span>
				</div>

				<img id="options" src="img/options.png" alt="">
				<img id="info" src="img/info.png" alt="">

			</div>

		</div>

	</header>

	<div id="tab-1" class="tab-content current">

		<iframe id="explorer" class="iframestyle" src="explore.html" name="explorer"></iframe>

	</div>

	<div id="tab-2" class="tab-content">

		<iframe id="searcher" class="iframestyle" src="search.html" name="searcher"></iframe>

	</div>

	<script>

		var win = nw.Window.get();

		// para quitar un defecto de que si se había recargado la página a la hora de cerrar pedía confirmación tantas veces como recargadas
		setTimeout(function() {

			$.each(win.__proto__.outerEventCBs.close, function(i) {
				delete win.__proto__.outerEventCBs.close[i];
			});

		}, 500);

		// la función propia para pedir confirmación a la hora de cerrar
		win.on('close', function() {

			if(localStorage["closeconfirmation"]=="yes") {

				language = localStorage["language"];
				if (language == "EN") {

					alertify.confirm( "Close application ?", function (e) {
						if (e) {
							win.close(true);
						} 

					});
				}
				if (language == "ES") {

					alertify.confirm( "¿ Cerrar la aplicación ?", function (e) {
						if (e) {
							win.close(true);
						} 

					});
				}
				if (language == "FR") {

					alertify.confirm( "Fermer l'application ?", function (e) {
						if (e) {
							win.close(true);
						} 

					});
				}

			} else {
				win.close(true);
			}

		});

	</script>

</body>
</html>
